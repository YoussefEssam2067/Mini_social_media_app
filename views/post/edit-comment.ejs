<%- include('../partials/headerProfile') %>

<div class="container mt-5">
  <h1>Edit Comment</h1>
  <form
    action="/posts/<%= post.id %>/comments/<%= comment.id %>/edit-comment"
    method="POST"
    enctype="multipart/form-data"
  >
    <div class="mb-3">
      <label for="content" class="form-label">Content</label>
      <textarea class="form-control" id="content" name="content" rows="5">
<%= comment.content %></textarea
      >
    </div>

    <div class="mb-3">
      <label for="images" class="form-label">Images</label>
      <input
        type="file"
        class="form-control"
        id="images"
        name="images"
        accept="images/*"
        multiple
      />
      <% if (comment.images) { %>
      <div class="mt-3">
        <p>Current Images:</p>
        <div
          id="carouselComment<%= comment.id %>"
          class="carousel slide"
          data-bs-ride="carousel"
        >
          <div class="carousel-inner">
            <% comment.images.forEach((image, index) => { %>
            <div
              class="text-center carousel-item <%= index === 0 ? 'active' : '' %>"
            >
              <img
                src="/uploads/comments/<%= image %>"
                alt="Comment Image"
                class="img-thumbnail"
                style="max-width: 100%; height: auto; margin-bottom: 10px"
              />
            </div>
            <% }) %>
          </div>
          <button
            class="carousel-control-prev"
            type="button"
            data-bs-target="#carouselComment<%= comment.id %>"
            data-bs-slide="prev"
          >
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button
            class="carousel-control-next"
            type="button"
            data-bs-target="#carouselComment<%= comment.id %>"
            data-bs-slide="next"
          >
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
      </div>
      <% } %>
    </div>

    <button type="submit" class="btn btn-success mb-3">Update Comment</button>
  </form>
</div>

<%- include('../partials/footer') %>
